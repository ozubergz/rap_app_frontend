(this.webpackJsonprap_app_frontend=this.webpackJsonprap_app_frontend||[]).push([[0],{165:function(e,t,a){e.exports=a.p+"static/media/unknown_pic.4788048f.png"},189:function(e,t,a){e.exports=a(326)},194:function(e,t,a){},231:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},302:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(44),i=a.n(s),c=a(80),o=a(108),l=a(178),u=a(20),m=a(21),p=a(23),d=a(22),h=(a(194),a(339)),f=a(34),E=function(e){var t={backgroundImage:"url(".concat(e.artist.profile_pic,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};return r.a.createElement(h.a.Column,null,r.a.createElement("div",{className:"artist-img",style:t},r.a.createElement(f.b,{className:"link",to:"/artist/".concat(e.artist.id),title:e.artist.name}),r.a.createElement("div",{className:"overlay"},r.a.createElement("h4",null,e.artist.name))))},g=(a(231),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ui search"},r.a.createElement("div",{className:"ui icon input"},r.a.createElement("input",{className:"prompt",type:"text",name:"artists",placeholder:"Search artist...",value:this.props.searchValue,onChange:function(t){return e.props.handleSearchOnChange(t)}}),r.a.createElement("i",{className:"search icon"})),r.a.createElement("div",{className:"results"}))}}]),a}(n.Component)),v=a(45),b=a.n(v),C=(a(234),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).renderArtistList=function(){return e.props.artistsToRender.map((function(e){return r.a.createElement(E,{key:b()(),artist:e})}))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"artist-container"},r.a.createElement(g,{handleSearchOnChange:this.props.handleSearchOnChange,searchValue:this.props.searchValue}),r.a.createElement(h.a,null,r.a.createElement(h.a.Row,{columns:5},this.renderArtistList())))}}]),a}(n.Component)),O=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("h1",null,"Loading..."))},N=a(177),y=a(165),S=a.n(y),j=(a(235),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"renderUserPic",value:function(){if(this.props.user.profile_pic){var e={backgroundImage:"url(".concat(this.props.user.profile_pic,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};return r.a.createElement("div",{className:"user-pic",style:e})}return r.a.createElement(N.a,{className:"user-pic",src:S.a,size:"small",circular:!0})}},{key:"renderUserComments",value:function(){return this.props.user.comments.map((function(e){return r.a.createElement("div",{key:b()(),className:"comment-li"},e.content)}))}},{key:"renderTopList",value:function(){var e=this.props.user.top_list.map((function(e){return e.artist_id}));return this.props.artists.filter((function(t){var a;return e.forEach((function(e){t.id===e&&(a=t)})),a})).map((function(e){var t={backgroundImage:"url(".concat(e.profile_pic,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};return r.a.createElement(h.a.Column,{key:b()(),className:"favorite-list-columns"},r.a.createElement("div",{className:"favorite-list-pics",style:t},r.a.createElement(f.b,{className:"link",to:"/artist/".concat(e.id)})))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"side-bar"},r.a.createElement("div",{className:"user-header"},this.renderUserPic(),r.a.createElement("h2",null,this.props.user.username)),r.a.createElement("div",{className:"user-comments"},this.props.showComments?r.a.createElement("button",{onClick:this.props.toggleShowComment,className:"show-comments"},"LESS COMMENTS ",r.a.createElement("i",{className:"caret square down green icon"})):r.a.createElement("button",{onClick:this.props.toggleShowComment,className:"show-comments"},"SHOW COMMENTS ",r.a.createElement("i",{className:"caret square up green icon"})),this.props.showComments?r.a.createElement("div",{className:"comment-ul"},this.renderUserComments()):null),r.a.createElement("h5",{className:"favorite-lbl"},"FAVORITES"),r.a.createElement("div",{className:"favorite-box"},r.a.createElement(h.a,null,r.a.createElement(h.a.Row,{columns:2},this.renderTopList()))))}}]),a}(n.Component)),k=a(335),w=a(336),_=(a(302),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"renderCommentsList",value:function(){return 0===this.props.artist.comments.length?r.a.createElement("h3",null,"NO COMMENTS HERE..."):this.props.artist.comments.map((function(e){return r.a.createElement("div",{key:b()(),className:"comment-body"},r.a.createElement("div",{className:"username"},e.user.username),r.a.createElement("div",{className:"comment-content"},e.content))}))}},{key:"render",value:function(){var e=this,t={backgroundImage:"url(".concat(this.props.artist.profile_pic,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};return r.a.createElement("div",{className:"artist-page"},r.a.createElement(k.a,null,r.a.createElement("div",{className:"artist-header"},r.a.createElement("div",{className:"artist-left"},r.a.createElement("div",{className:"artist-pic",style:t})),r.a.createElement("div",{className:"artist-info"},r.a.createElement("h1",null,this.props.artist.name),r.a.createElement("div",{className:"artist-bio"},r.a.createElement("p",null,this.props.artist.bio)),r.a.createElement("div",{className:"button-group"},r.a.createElement("h4",null,"Add Favorite"),r.a.createElement("button",{onClick:function(){return e.props.handleAddArtist(e.props.artist)},className:"ui green button icon circular"},r.a.createElement("i",{className:"plus icon"})),r.a.createElement("button",{onClick:function(){return e.props.handleRemoveArtist(e.props.artist)},className:"ui red button icon circular"},r.a.createElement("i",{className:"minus icon"}))))),r.a.createElement(w.a,{onSubmit:function(){return e.props.handleSubmitComment(e.props.artist)}},r.a.createElement(w.a.TextArea,{onChange:this.props.handleCommment,label:"COMMENT",placeholder:"Tell us your opinion about this aritst...",value:this.props.value}),r.a.createElement(w.a.Button,null,"Submit")),r.a.createElement("div",{className:"comments-container"},r.a.createElement("div",{className:"comment-list"},this.renderCommentsList()))))}}]),a}(n.Component)),A=a(338),P=a(15),T=(a(322),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).redirectToMain=function(){if(e.props.redirect)return r.a.createElement(P.a,{to:"/"})},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(w.a,{className:"signup-form",onSubmit:this.props.handleCreateUser},r.a.createElement("h1",{style:{color:"green"}},"Sign Up"),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",onChange:this.props.handleOnChange,name:"username",placeholder:"Username",value:this.props.username})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",onChange:this.props.handleOnChange,name:"password",placeholder:"Password",value:this.props.password})),this.redirectToMain(),r.a.createElement(A.a,{type:"submit"},"Submit"))}}]),a}(n.Component)),R=(a(323),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).redirectToMain=function(){if(e.props.redirect)return r.a.createElement(P.a,{to:"/"})},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(w.a,{className:"login-form",onSubmit:this.props.handleLogin},r.a.createElement("h1",{style:{color:"green"}},"Login"),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",onChange:this.props.handleOnChange,name:"username",placeholder:"Username",value:this.props.username})),r.a.createElement(w.a.Field,null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",onChange:this.props.handleOnChange,name:"password",placeholder:"Password",value:this.props.password})),this.redirectToMain(),r.a.createElement(A.a,{type:"submit"},"Submit"))}}]),a}(n.Component)),L=(a(324),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"side-bar"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"RANK RAPPERZ")),r.a.createElement("div",{className:"btn-group"},r.a.createElement(A.a,{className:"login-btn",inverted:!0,color:"green"},r.a.createElement(f.b,{className:"login-link",to:"/login"},"Login")),r.a.createElement("h4",null,"or"),r.a.createElement(A.a,{className:"signup-btn",inverted:!0,color:"teal"},r.a.createElement(f.b,{className:"signup-link",to:"/signup"},"Sign Up"))))}}]),a}(n.Component)),U=(a(325),"https://rap-app-api.herokuapp.com"),M=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={artists:[],value:"",showComments:!1,user:null,username:"",password:"",redirect:!1,searchValue:"",searchResults:null},e.handleCommment=function(t){e.setState({value:t.target.value})},e.handleSubmitComment=function(t){var a=e.state.value,n=t.id,r=e.state.user.id;""!==a.length&&fetch("".concat(U,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:a,artist_id:n,user_id:r})}).then((function(e){return e.json()})).then((function(t){var a=Object(l.a)(e.state.artists),n=Object(o.a)({},e.state.user);a.map((function(e){return e.id===t.artist.id&&e.comments.push(t),e})),n.comments.push(t),e.setState({value:"",artists:a,user:n})}))},e.handleAddArtist=function(t){var a=t.id,n=e.state.user.id;e.state.user.top_list.map((function(e){return e.artist_id})).includes(a)||fetch("".concat(U,"/top_lists"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:n,artist_id:a})}).then((function(e){return e.json()})).then((function(t){var a=Object(o.a)({},e.state.user),n={id:t.id,user_id:t.user.id,artist_id:t.artist.id};a.top_list.push(n),e.setState({user:a})}))},e.handleRemoveArtist=function(t){var a=t.id,n=e.state.user.top_list,r=e.state.user,s=n.find((function(e){return e.artist_id===a}));s&&fetch("".concat(U,"/top_lists/").concat(s.id),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){n=n.filter((function(e){return e.id!==t.id})),r.top_list=n,e.setState({user:r})}))},e.handleSearchOnChange=function(t){e.setState({searchValue:t.target.value,searchResults:e.state.artists.filter((function(e){return e.name.toLowerCase().includes(t.target.value)}))})},e.mainPage=function(){return 0!==e.state.artists.length?r.a.createElement(C,{artistsToRender:e.state.searchResults?e.state.searchResults:e.state.artists,artists:e.state.artists,handleSearchOnChange:e.handleSearchOnChange,searchValue:e.state.searchValue}):r.a.createElement(O,null)},e.toggleShowComment=function(){e.setState({showComments:!e.state.showComments})},e.artistPage=function(t){var a=t.match.params.id,n=e.state.artists.find((function(e){return e.id===Number(a)}));if(n)return r.a.createElement(_,{value:e.state.value,handleSubmitComment:e.handleSubmitComment,handleCommment:e.handleCommment,handleRemoveArtist:e.handleRemoveArtist,handleAddArtist:e.handleAddArtist,artist:n,id:a})},e.handleOnChange=function(t){e.setState(Object(c.a)({},t.target.name,t.target.value))},e.handleCreateUser=function(){var t=e.state.username,a=e.state.password;fetch("".concat(U,"/signup"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:t,password:a,profile_pic:null})}).then((function(e){return e.json()})).then((function(t){t.user?e.setState({user:t.user,username:"",password:"",redirect:!0}):console.log(t[0])}))},e.handleLogin=function(){var t=e.state.username,a=e.state.password;fetch("".concat(U,"/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:t,password:a})}).then((function(e){return e.json()})).then((function(t){t.user?e.setState({user:t.user,username:"",password:"",redirect:!0}):console.log(t.message)}))},e.signupPage=function(){return r.a.createElement(T,{redirect:e.state.redirect,password:e.state.password,username:e.state.username,handleCreateUser:e.handleCreateUser,handleOnChange:e.handleOnChange})},e.loginPage=function(){return r.a.createElement(R,{redirect:e.state.redirect,password:e.state.password,username:e.state.username,handleLogin:e.handleLogin,handleOnChange:e.handleOnChange})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(U,"/api/artists")).then((function(e){return e.json()})).then((function(t){return e.setState({artists:t})}))}},{key:"renderSideBarUser",value:function(){return this.state.user?r.a.createElement(j,{showComments:this.state.showComments,toggleShowComment:this.toggleShowComment,artists:this.state.artists,user:this.state.user}):r.a.createElement(L,null)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.renderSideBarUser(),r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/",render:this.mainPage}),r.a.createElement(P.b,{path:"/signup",render:this.signupPage}),r.a.createElement(P.b,{path:"/login",render:this.loginPage}),r.a.createElement(P.b,{path:"/artist/:id",render:this.artistPage})))}}]),a}(r.a.Component);i.a.render(r.a.createElement(f.a,null,r.a.createElement(M,null)),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.03694ea9.chunk.js.map